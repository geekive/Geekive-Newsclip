  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      background: #f0f2f5;
    }

    .interest-modal-overlay {
      display: flex;
      position: fixed;
      top: 0; left: 0; right: 0; bottom: 0;
      background: rgba(0, 0, 0, 0.6);
      align-items: center;
      justify-content: center;
      z-index: 1000;
      padding: 40px 20px;
      box-sizing: border-box;
    }

    .interest-modal {
      background: white;
      width: 480px;
      height: 657px;
      border-radius: 10px;
      padding: 30px 30px 24px;
      box-shadow: 0 8px 24px rgba(0, 0, 0, 0.2);
      box-sizing: border-box;
      display: flex;
      flex-direction: column;
    }

    .interest-modal h2 {
      font-size: 20px;
      margin-bottom: 24px;
      text-align: center;
    }

    .form-group {
      margin-bottom: 16px;
    }

    .form-group input[type="text"] {
      width: 95%;
      padding: 10px;
      font-size: 14px;
      border-radius: 6px;
      border: 1px solid #ccc;
    }

    .form-group label {
      font-size: 14px;
      display: block;
      margin-bottom: 6px;
      cursor: pointer;
    }

    .form-group input[type="checkbox"] {
      margin-right: 6px;
      cursor: pointer;
    }

    .interest-list {
      flex: 1;
      overflow-y: auto;
      border: 1px solid #ddd;
      padding: 10px;
      border-radius: 6px;
      background: #f9f9f9;
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      align-content: flex-start;
      justify-content: center;
    }

    label.interest-item {
      display: flex;
      align-items: center;
      white-space: nowrap;
      padding: 6px 10px;
      background: #fff;
      border: 1px solid #ccc;
      border-radius: 20px;
      font-size: 14px;
      cursor: pointer;
      user-select: none;
    }

    label.interest-item input[type="checkbox"] {
      margin-right: 6px;
      cursor: pointer;
    }

    .btn-interest-save,
    .btn-interest-close {
      width: 100%;
      padding: 12px;
      font-size: 15px;
      font-weight: 600;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      margin-top: 12px;
    }

    .btn-interest-save {
      background-color: #2c3e50;
      color: white;
    }

    .btn-interest-close {
      background-color: #777;
      color: white;
    }

    .no-results {
      text-align: center;
      color: #666;
      padding-top: 20px;
      width: 100%;
    }

    .interest-message {
      font-size: 14px;
      color: #e74c3c;
      text-align: center;
      min-height: 18px;
    }
  </style>

  <div class="interest-modal-overlay" id="interest-modal-overlay" style="display: none;">
    <div class="interest-modal">
      <h2>관심 토픽 선택</h2>
  
      <div class="form-group">
        <label for="txt-interest-modal-search">토픽 검색</label>
        <input type="text" id="txt-interest-modal-search" placeholder="검색어 입력" maxlength="20" />
      </div>
  
      <div class="form-group">
        <label>
          <input type="checkbox" id="chk-show-selected" />
          내가 선택한 토픽만 보기
        </label>
      </div>
  
      <div class="form-group interest-list" id="interest-list-wrapper">
        <!-- 토픽 목록 렌더링 -->
      </div>
  
      <div class="interest-message" id="interest-modal-message"></div>
  
      <button class="btn-interest-save" id="btn-interest-modal-save">선택 완료</button>
      <button class="btn-interest-close" id="btn-interest-modal-close">닫기</button>
    </div>
  </div>
  
  <script>
    const interests = [
      '가수', '가전', '가구', '경제', '문화', '영화', 'IT', '과학', '음악', '패션',
      '교육', '건강', '게임', '정치', '환경', '의료', '디자인', '여행', '스포츠', '자동차',
      '요리', '사진', '독서', '동물', '인테리어', '연극', '커피', '영화음악', '만화', '애니메이션',
      '스타트업', '인공지능', '모바일', '웹개발', '사회학', '역사', '자전거', '캠핑', '명상', '외국어',
      '커뮤니티', '자산관리', '심리학', '부동산', '교육기술', '공연', '댄스', '천문학', '요가', '영화감독'
    ];

    const CHOSEONG_LIST = ["ㄱ", "ㄲ", "ㄴ", "ㄷ", "ㄸ", "ㄹ", "ㅁ", "ㅂ", "ㅃ", "ㅅ",
      "ㅆ", "ㅇ", "ㅈ", "ㅉ", "ㅊ", "ㅋ", "ㅌ", "ㅍ", "ㅎ"];

    function getChoseong(str) {
      let result = '';
      for (let ch of str) {
        const code = ch.charCodeAt(0);
        if (code >= 0xAC00 && code <= 0xD7A3) {
          const choseongIndex = Math.floor((code - 0xAC00) / (21 * 28));
          result += CHOSEONG_LIST[choseongIndex];
        } else {
          result += ch;
        }
      }
      return result;
    }

    function renderInterests() {
      const keyword = $('#txt-interest-modal-search').val().trim();
      const showSelectedOnly = $('#chk-show-selected').is(':checked');
      const $container = $('#interest-list-wrapper');
      $container.empty();

  

      let interestsCopy = [...interests];

      if (showSelectedOnly) {
        interestsCopy = interestsCopy.filter(i => checkedInterests.includes(i));
      }

      if (keyword) {
        const keywordChoseong = getChoseong(keyword);
        interestsCopy = interestsCopy.filter(interest => {
          return interest.includes(keyword) || getChoseong(interest).includes(keywordChoseong);
        });
      }

      if (interestsCopy.length === 0) {
        $container.html('<div class="no-results">검색 결과 없음</div>');
        return;
      }
    }

    $(document).ready(function () {
      $('#btn-interest-modal-close').on('click', function () {
        $('#interest-modal-overlay').hide();
      });

      $('#btn-interest-modal-save').on('click', function () {
        const selected = $('input[name="interests"]:checked').map(function () {
          return $(this).val();
        }).get();

        if (selected.length === 0) {
          $('#interest-modal-message').text('하나 이상의 토픽을 선택해주세요.');
          return;
        }

        $('#interest-modal-message').text('');
        alert('선택된 관심 토픽: ' + selected.join(', '));
        $('#interest-modal-overlay').hide();
      });

      $('#txt-interest-modal-search').on('input', renderInterests);
      $('#chk-show-selected').on('change', renderInterests);
    });
  </script>